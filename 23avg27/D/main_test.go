package main

import (
	"bufio"
	"fmt"
	"strings"
	"testing"
)

// Тест №1
func TestMain(t *testing.T) {
	// Ввод
	question := `3
2 6 18
..................
..................
.../\.............
../XX\/\../\......
./XXXXXX\/XX\.....
/XXXXXXXXXXXX\....

........../\......
........./XX\.....
......../XXXX\....
.../\../XXXXXX\...
../XX\/XXXXXXXX\..
./XXXXXXXXXXXXXX\.
1 2 2
..
/\
3 4 5
.....
.....
.....
./\..

.....
.....
./\..
/XX\.

.....
.....
../\.
./XX\
`
	// Ожидаемый вывод
	answer := `........../\......
........./XX\.....
.../\.../XXXX\....
../XX\/\XX/\XX\...
./XXXXXX\/XX\XX\..
/XXXXXXXXXXXX\XX\.

..
/\

.....
.....
./\\.
//\\\
`

	// Записываем в канал Stdin информацию входную
	inputBuf := bufio.NewReader(strings.NewReader(question))

	// Запуск тестируемой функции
	outPutWork := Work(inputBuf)

	// Проверка на ошибку
	if !strings.Contains(outPutWork, answer) {
		t.Fatal("\nloss:", fmt.Sprint(outPutWork)+"\n")
	}
}
